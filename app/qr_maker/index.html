<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="qrcode.js"></script>

</head>
<body>

<input type="text" id="text" value="信息">
<input type="button" value="生成二维码图片" onclick="generator_qr_code()">
<input type="button" value="生成二维码字符图" onclick="generator_qr_text()">
<div id="qr"></div>

<!-- <textarea id="qr_text" rows="80" cols="80"
style="word-spacing:0em;letter-spacing:0em;line-height:1em;line-width:1em">
</textarea> -->

<pre id="qr_text" style="line-height:1em;"></pre>




<script>
    function generator_qr_code() {
      // 画一个 svg 图
        var qrcode = new QRCode({content: document.getElementById('text').value, join: true});
        document.getElementById("qr").innerHTML = qrcode.svg();
      }


    function generator_qr_text() {

      // 字符图
      var qrcode = new QRCode({content: document.getElementById('text').value, join: true});

      // var hello = new QRCode("Hello World!");
      var modules = qrcode.qrcode.modules;

      var ascii = '';
      var length = modules.length;
      for (var y = 0; y < length; y++) {
        for (var x = 0; x < length; x++) {
          var module = modules[x][y];
          ascii += (module ? '██' : '  ');
        }
        ascii += '\r\n';
      }
      console.log(ascii);

      document.getElementById("qr_text").innerHTML = ascii+"\n 字符图暂只支持 Safari";


    }

</script>


<ol>
  <li><a href="https://www.guofei.site/pictures_for_blog/app/qr_maker/main.html">本工具</a>是一个二维码生成工具</li>
  <li>网页保存下来可以离线用。</li>
  <li>开源不易，请我喝咖啡</li>
<img src="https://www.guofei.site/public/donate/WeChatQR.jpg" width=150 heght=150><br>
  <li>欢迎去<a href="https://www.guofei.site/">我的博客</a>看一眼。</li>
</ol>



</body>
</html>
